(function(){"use strict";var s={5859:function(s,e,t){var i=t(9242),o=t(3396);function n(s,e){const t=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(t)])}var l=t(89);const a={},r=(0,l.Z)(a,[["render",n]]);var h=r,c=t(2483),u=t(7139);const m={class:"cont"},d=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Score")])],-1);function p(s,e,t,i,n,l){const a=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("table",m,[d,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.results,((s,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,(0,u.zw)(s.score),1)])))),128))])]),(0,o.Wm)(a,{to:"/",class:"back_board"},{default:(0,o.w5)((()=>[(0,o.Uk)("Back")])),_:1})])}var w={computed:{results(){return this.$store.state.results}}};const _=(0,l.Z)(w,[["render",p]]);var v=_;const C={class:"main"},g={class:"complexity"},y={class:"container"},f={class:"complexity__choose"},k={class:"complexity__buttons"},b={class:"container"},G={class:"navbar"},M=(0,o._)("div",{class:"counter"},null,-1),D=(0,o._)("div",{class:"title"},"Test task - minesweeper",-1),H={class:"buttons"},x={class:"timer"},N={class:"minesCounter"},z={key:0},O={key:1},T={class:"square"},E=["onMousedown"],F={class:"def"},R={class:"container"},A={class:"navbar"},q=(0,o._)("div",{class:"counter"},null,-1),Y=(0,o._)("div",{class:"title"},"Test task - minesweeper",-1),j={class:"buttons"},B={class:"timer"},U={class:"minesCounter"},I={key:0},K={key:1},P={class:"square"},W=["onMousedown"],Z={class:"def"},L={class:"container"},S={class:"navbar"},V=(0,o._)("div",{class:"counter"},null,-1),$=(0,o._)("div",{class:"title"},"Test task - minesweeper",-1),Q={class:"buttons"},J={class:"timer"},X={class:"minesCounter"},ss={key:0},es={key:1},ts={class:"square"},is=["onMousedown"],os={class:"def"},ns={class:"container"},ls={class:"navbar options"},as=(0,o._)("div",null,"Number of bombs:",-1),rs={class:"mines"},hs=(0,o._)("div",null,"Width:",-1),cs={class:"width"},us=(0,o._)("div",null,"Height:",-1),ms={class:"height"},ds={class:"minesCounter"},ps={class:"buttons_custom"},ws={class:"square"},_s=["onMousedown"],vs={class:"def"};function Cs(s,e,t,n,l,a){const r=(0,o.up)("router-link"),h=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",C,[(0,o.wy)((0,o._)("div",g,[(0,o._)("div",y,[(0,o._)("div",f,[(0,o._)("div",k,[(0,o._)("p",{class:"complexity__easy",onClick:e[0]||(e[0]=(...s)=>a.openEasyGame&&a.openEasyGame(...s))},"Easy"),(0,o._)("p",{class:"complexity__normal",onClick:e[1]||(e[1]=(...s)=>a.openNormalGame&&a.openNormalGame(...s))},"Normal"),(0,o._)("p",{class:"complexity__hard",onClick:e[2]||(e[2]=(...s)=>a.openHardGame&&a.openHardGame(...s))},"Hard"),(0,o._)("p",{class:"complexity__hard",onClick:e[3]||(e[3]=(...s)=>a.openCustomGame&&a.openCustomGame(...s))},"Custom"),(0,o.Wm)(r,{to:"/",class:"complexity__back"},{default:(0,o.w5)((()=>[(0,o.Uk)("Back")])),_:1})])])])],512),[[i.F8,s.showChooseCom]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",b,[(0,o._)("div",G,[M,D,(0,o._)("div",H,[(0,o._)("button",{class:"button",onClick:e[4]||(e[4]=(...s)=>a.restartGameEasy&&a.restartGameEasy(...s))},"Restart"),(0,o._)("div",x,[(0,o._)("p",N,"Mines: "+(0,u.zw)(s.mines),1),(0,o.Uk)(" "+(0,u.zw)(s.minutes)+": ",1),this.seconds>=10?((0,o.wg)(),(0,o.iD)("div",z,(0,u.zw)(s.seconds),1)):((0,o.wg)(),(0,o.iD)("div",O," 0"+(0,u.zw)(s.seconds),1))])])]),(0,o._)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:(0,u.C_)(["cell",a.cellClass(t,t.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(t)),["left"]),(0,i.iM)((s=>a.setFlag(t)),["right"])],onContextmenu:e[5]||(e[5]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[t.is_open&&!t.is_mine&&t.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(t.val)])},(0,u.zw)(t.val),3)):(0,o.kq)("",!0)],46,E)))),128))])))),128))])]),(0,o._)("div",F,[(0,o._)("button",{class:"back",onClick:e[6]||(e[6]=(...s)=>a.closeEasy&&a.closeEasy(...s))},"Back")])],2),[[i.F8,s.showEasyGame]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",R,[(0,o._)("div",A,[q,Y,(0,o._)("div",j,[(0,o._)("button",{class:"button",onClick:e[7]||(e[7]=(...s)=>a.restartGameNormal&&a.restartGameNormal(...s))},"Restart"),(0,o._)("div",B,[(0,o._)("p",U,"Mines: "+(0,u.zw)(s.mines),1),(0,o.Uk)(" "+(0,u.zw)(s.minutes)+": ",1),this.seconds>=10?((0,o.wg)(),(0,o.iD)("div",I,(0,u.zw)(s.seconds),1)):((0,o.wg)(),(0,o.iD)("div",K," 0"+(0,u.zw)(s.seconds),1))])])]),(0,o._)("div",P,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:(0,u.C_)(["cell",a.cellClass(t,t.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(t)),["left"]),(0,i.iM)((s=>a.setFlag(t)),["right"])],onContextmenu:e[8]||(e[8]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[t.is_open&&!t.is_mine&&t.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(t.val)])},(0,u.zw)(t.val),3)):(0,o.kq)("",!0)],46,W)))),128))])))),128))])]),(0,o._)("div",Z,[(0,o._)("button",{class:"back",onClick:e[9]||(e[9]=(...s)=>a.closeNormal&&a.closeNormal(...s))},"Back")])],2),[[i.F8,s.showNormalGame]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",L,[(0,o._)("div",S,[V,$,(0,o._)("div",Q,[(0,o._)("button",{class:"button",onClick:e[10]||(e[10]=(...s)=>a.restartGameHard&&a.restartGameHard(...s))},"Restart"),(0,o._)("div",J,[(0,o._)("p",X,"Mines: "+(0,u.zw)(s.mines),1),(0,o.Uk)(" "+(0,u.zw)(s.minutes)+": ",1),this.seconds>=10?((0,o.wg)(),(0,o.iD)("div",ss,(0,u.zw)(s.seconds),1)):((0,o.wg)(),(0,o.iD)("div",es," 0"+(0,u.zw)(s.seconds),1))])])]),(0,o._)("div",ts,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:(0,u.C_)(["cell",a.cellClass(t,t.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(t)),["left"]),(0,i.iM)((s=>a.setFlag(t)),["right"])],onContextmenu:e[11]||(e[11]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[t.is_open&&!t.is_mine&&t.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(t.val)])},(0,u.zw)(t.val),3)):(0,o.kq)("",!0)],46,is)))),128))])))),128))])]),(0,o._)("div",os,[(0,o._)("button",{class:"back",onClick:e[12]||(e[12]=(...s)=>a.closeHard&&a.closeHard(...s))},"Back")])],2),[[i.F8,s.showHardGame]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",ns,[(0,o._)("div",ls,[as,(0,o._)("div",rs,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=e=>s.options.mines=e)},null,512),[[i.nr,s.options.mines]])]),hs,(0,o._)("div",cs,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=e=>s.options.width=e)},null,512),[[i.nr,s.options.width]])]),us,(0,o._)("div",ms,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=e=>s.options.height=e)},null,512),[[i.nr,s.options.height]])]),(0,o._)("p",ds,"Mines: "+(0,u.zw)(s.mines),1),(0,o._)("div",ps,[(0,o._)("button",{class:"apply",onClick:e[16]||(e[16]=(...s)=>a.applyOptions&&a.applyOptions(...s))},"Apply"),(0,o._)("button",{class:"button",onClick:e[17]||(e[17]=(...s)=>a.resetGame&&a.resetGame(...s))},"Restart")])]),(0,o._)("div",ws,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:(0,u.C_)(["cell",a.cellClass(t,t.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(t)),["left"]),(0,i.iM)((s=>a.setFlag(t)),["right"]),(0,i.iM)((e=>s.setQuastion(t)),["middle"])],onContextmenu:e[18]||(e[18]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[t.is_open&&!t.is_mine&&t.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(t.val)])},(0,u.zw)(t.val),3)):(0,o.kq)("",!0)],46,_s)))),128))])))),128))])]),(0,o._)("div",vs,[(0,o._)("button",{class:"back",onClick:e[19]||(e[19]=(...s)=>a.closeCustom&&a.closeCustom(...s))},"Back")])],2),[[i.F8,s.showCustomGame]])]),(0,o.Wm)(h)],64)}t(7658);class gs{constructor(s,e){this.x=s,this.y=e,this.val=0,this.is_mine=!1,this.is_open=!1,this.flag=!1}}var ys={data:function(){return{mines:10,width:0,height:0,map:[],options:{width:0,height:0,mines:10},state:"init",cells_opened:0,flag_count:0,flags:0,diff:"",showChooseCom:!0,showPlayEasy:!1,showPlayNormal:!1,showPlayHard:!1,showPlayCustom:!1,showEasyGame:!1,showNormalGame:!1,showHardGame:!1,showCustomGame:!1,intervalId:null,minutes:0,seconds:0,timerRunning:!1,timer:null}},computed:{cells_closed(){return this.width*this.height-this.cells_opened}},created(){this.applyOptions()},methods:{updateParentData(s){this.showChooseCom=s},closeEasy(){this.showEasyGame=!1,this.showChooseCom=!0},closeCustom(){this.showCustomGame=!1,this.showChooseCom=!0},closeHard(){this.showHardGame=!1,this.showChooseCom=!0},closeNormal(){this.showNormalGame=!1,this.showChooseCom=!0},openComplexity(){this.showChooseCom=!0,this.showMain=!1},openEasyGame(){this.width=8,this.height=8,this.mines=12,this.minutes=10,this.seconds=0,this.resetGame(),this.showEasyGame=!0,this.showChooseCom=!1},openNormalGame(){this.width=16,this.height=16,this.mines=40,this.minutes=40,this.seconds=0,this.resetGame(),this.showNormalGame=!0,this.showChooseCom=!1},openHardGame(){this.width=32,this.height=16,this.mines=60,this.minutes=100,this.seconds=0,this.resetGame(),this.showHardGame=!0,this.showChooseCom=!1},openCustomGame(){this.resetGame(),this.showCustomGame=!0,this.showChooseCom=!1},goToBack(){this.showMain=!0,this.showChooseCom=!1},applyOptions(){for(let s in this.options)this[s]=this.options[s];this.resetGame()},resetGame(){this.flag_count=0,this.cells_opened=0,this.state="init",this.clearSquare()},clearSquare(){this.map=[];for(let s=0;s<this.height;s++){this.map.push([]);for(let e=0;e<this.width;e++)this.map[s].push(new gs(e,s))}},restartGameEasy(){this.width=8,this.height=8,this.mines=12,this.minutes=10,this.seconds=0,this.resetGame(),this.stopTimer(),this.startTimer()},restartGameNormal(){this.width=16,this.height=16,this.mines=40,this.minutes=40,this.seconds=0,this.showNormalGame=!0,this.showChooseCom=!1,this.resetGame(),this.stopTimer(),this.startTimer()},restartGameHard(){this.width=32,this.height=16,this.mines=60,this.minutes=100,this.seconds=0,this.showHardGame=!0,this.showChooseCom=!1,this.resetGame(),this.stopTimer(),this.startTimer()},pushMines(s){const e=this.width*this.height,t=s.y*this.width+s.x;for(let i=0;i<this.mines;++i)i!==t&&(this.cellLine(i).is_mine=!0);for(let i=0;i<e-1;++i)if(i!==t){const s=i<t;let o=i+Math.floor(Math.random()*(e-i)+(s?-1:0));s&&o>=t&&o++;const n=this.cellLine(i),l=this.cellLine(o),a=n.is_mine;n.is_mine=l.is_mine,l.is_mine=a}},cellLine(s){return this.cell(s%this.width,Math.floor(s/this.width))},cell(s,e){return s>=0&&e>=0&&s<this.width&&e<this.height?this.map[e][s]:null},lostGame(){this.state="lost",this.openAllCells(),this.stopTimer()},saveResult(){const s={score:[this.minutes,this.seconds]};this.$store.dispatch("saveResult",s)},winGame(){this.state="win",this.openAllCells(),this.stopTimer(),this.saveResult()},openAllCells(){for(let s=0;s<this.map.length;++s)for(let e=0;e<this.map[s].length;++e){let t=this.cell(e,s);this.setCellOpen(t),t.is_mine||(t.val=this.countMinesAround(t))}},countMinesAround(s){return this.countCellAround(s,(s=>s.is_mine))},countCellAround(s,e){let t=0;return this.searhAround(s,(s=>t+=e(s)?1:0)),t},searhAround(s,e){let t;for(let i=-1;i<2;++i)for(let o=-1;o<2;++o)(i||o)&&(t=this.cell(s.x+i,s.y+o))&&e(t)},clickCell(s){if(this.init(s),"play"===this.state&&!s.is_open)if(s.is_mine)this.lostGame();else try{this.openCell(s),parseInt(this.cells_closed)===parseInt(this.mines)&&this.winGame()}catch(e){this.lostGame()}},setFlag(s){this.init(s),"play"===this.state&&(s.is_open||this.setCellFlag(s,!s.flag))},setCellFlag(s,e){e!==s.flag&&(s.flag=e,this.flag_count+=e?1:-1,this.mines+=e?-1:1)},openCell(s){if(s&&!s.is_open){if(this.setCellOpen(s),s.is_mine)throw"Boom";0===s.val&&this.searhAround(s,(s=>this.openCell(s)))}},getNumberClass(s){return{blue:1===s,green:2===s,red:3===s,darkBlue:4===s,brown:5===s,turquoise:6===s,black:7===s,white:8===s}},setCellOpen(s){s.is_open||(s.is_open=!0,this.cells_opened++,this.setCellFlag(s,!1),s.is_mine||(s.val=this.countMinesAround(s)))},init(s){"init"===this.state&&(this.state="play",this.startTimer(),this.pushMines(s))},cellClass(s){return s.is_open?[s.is_mine?"mine":"digit-"+s.val]:["closed",s.flag?"flag":""]},startTimer(){"play"===this.state&&(this.timerRunning=!0,this.intervalId=setInterval((()=>{this.seconds>0?this.seconds--:this.minutes>0?(this.minutes--,this.seconds=59):(clearInterval(this.intervalId),this.timerRunning=!1)}),1e3))},stopTimer(){clearInterval(this.intervalId),this.timerRunning=!1}}};const fs=(0,l.Z)(ys,[["render",Cs]]);var ks=fs;const bs={class:"menu"},Gs={class:"container"},Ms={class:"menu__choose"},Ds={class:"menu__buttons"};function Hs(s,e,t,i,n,l){const a=(0,o.up)("router-link"),r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",bs,[(0,o._)("div",Gs,[(0,o._)("div",Ms,[(0,o._)("div",Ds,[(0,o.Wm)(a,{to:"/game",class:"menu__play"},{default:(0,o.w5)((()=>[(0,o.Uk)("Game options")])),_:1}),(0,o.Wm)(a,{to:"/leaderboard",class:"menu__leader_board"},{default:(0,o.w5)((()=>[(0,o.Uk)("Leader board")])),_:1})])])])]),(0,o.Wm)(r)],64)}var xs={methods:{}};const Ns=(0,l.Z)(xs,[["render",Hs]]);var zs=Ns,Os=(0,c.p7)({history:(0,c.r5)(),routes:[{path:"/leaderBoard",component:v},{path:"/game",component:ks},{path:"/",component:zs}]}),Ts=t(65);const Es=(0,Ts.MT)({state(){return{}}});var Fs=Es;const Rs={state:{results:[]},mutations:{saveResult(s,e){s.results.push(e)}},actions:{saveResult({commit:s},e){s("saveResult",e)}}};var As=new Ts.ZP.Store({modules:{score:Rs}});const qs=(0,i.ri)(h);qs.use(Os),qs.use(Fs),qs.mount("#app");new Ts.ZP.Store({modules:{results:As}})}},e={};function t(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return s[i].call(n.exports,n,n.exports,t),n.exports}t.m=s,function(){var s=[];t.O=function(e,i,o,n){if(!i){var l=1/0;for(c=0;c<s.length;c++){i=s[c][0],o=s[c][1],n=s[c][2];for(var a=!0,r=0;r<i.length;r++)(!1&n||l>=n)&&Object.keys(t.O).every((function(s){return t.O[s](i[r])}))?i.splice(r--,1):(a=!1,n<l&&(l=n));if(a){s.splice(c--,1);var h=o();void 0!==h&&(e=h)}}return e}n=n||0;for(var c=s.length;c>0&&s[c-1][2]>n;c--)s[c]=s[c-1];s[c]=[i,o,n]}}(),function(){t.n=function(s){var e=s&&s.__esModule?function(){return s["default"]}:function(){return s};return t.d(e,{a:e}),e}}(),function(){t.d=function(s,e){for(var i in e)t.o(e,i)&&!t.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:e[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"===typeof window)return window}}()}(),function(){t.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)}}(),function(){var s={143:0};t.O.j=function(e){return 0===s[e]};var e=function(e,i){var o,n,l=i[0],a=i[1],r=i[2],h=0;if(l.some((function(e){return 0!==s[e]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(r)var c=r(t)}for(e&&e(i);h<l.length;h++)n=l[h],t.o(s,n)&&s[n]&&s[n][0](),s[n]=0;return t.O(c)},i=self["webpackChunkminer"]=self["webpackChunkminer"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(5859)}));i=t.O(i)})();
//# sourceMappingURL=app.141d2d37.js.map