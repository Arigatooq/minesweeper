(function(){"use strict";var s={6892:function(s,t,e){var i=e(9242),o=e(3396);function n(s,t){const e=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(e)])}var l=e(89);const a={},r=(0,l.Z)(a,[["render",n]]);var h=r,c=e(2483),u=e(7139);const m=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Score")])],-1);function d(s,t,e,i,n,l){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("table",null,[m,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.results,((s,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,(0,u.zw)(s.score),1)])))),128))])])])}var p={computed:{results(){return this.$store.state.results}}};const _=(0,l.Z)(p,[["render",d]]);var w=_;const v={class:"main"},C={class:"complexity"},g={class:"container"},f={class:"complexity__choose"},y={class:"complexity__buttons"},k={class:"container"},b={class:"navbar"},G=(0,o._)("div",{class:"counter"},null,-1),M=(0,o._)("div",{class:"title"},"Test task - sapper",-1),H={class:"buttons"},D={class:"timer"},x={class:"minesCounter"},N={class:"square"},O=["onMousedown"],E={class:"def"},z={class:"container"},R={class:"navbar"},T=(0,o._)("div",{class:"counter"},null,-1),F=(0,o._)("div",{class:"title"},"Test task - sapper",-1),q={class:"buttons"},A={class:"timer"},Y={class:"minesCounter"},j={class:"square"},B=["onMousedown"],I={class:"def"},K={class:"container"},P={class:"navbar"},U=(0,o._)("div",{class:"counter"},null,-1),W=(0,o._)("div",{class:"title"},"Test task - sapper",-1),Z={class:"buttons"},L={class:"timer"},S={class:"minesCounter"},V={class:"square"},Q=["onMousedown"],$={class:"def"},J={class:"container"},X={class:"navbar options"},ss=(0,o._)("div",null,"Number of bombs:",-1),ts={class:"mines"},es=(0,o._)("div",null,"Width:",-1),is={class:"width"},os=(0,o._)("div",null,"Height:",-1),ns={class:"height"},ls={class:"minesCounter"},as={class:"buttons_custom"},rs={class:"square"},hs=["onMousedown"],cs={class:"def"};function us(s,t,e,n,l,a){const r=(0,o.up)("router-link"),h=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",v,[(0,o.wy)((0,o._)("div",C,[(0,o._)("div",g,[(0,o._)("div",f,[(0,o._)("div",y,[(0,o._)("p",{class:"complexity__easy",onClick:t[0]||(t[0]=(...s)=>a.openEasyGame&&a.openEasyGame(...s))},"Easy"),(0,o._)("p",{class:"complexity__normal",onClick:t[1]||(t[1]=(...s)=>a.openNormalGame&&a.openNormalGame(...s))},"Normal"),(0,o._)("p",{class:"complexity__hard",onClick:t[2]||(t[2]=(...s)=>a.openHardGame&&a.openHardGame(...s))},"Hard"),(0,o._)("p",{class:"complexity__hard",onClick:t[3]||(t[3]=(...s)=>a.openCustomGame&&a.openCustomGame(...s))},"Custom"),(0,o.Wm)(r,{to:"/",class:"complexity__back"},{default:(0,o.w5)((()=>[(0,o.Uk)("Back")])),_:1})])])])],512),[[i.F8,s.showChooseCom]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",k,[(0,o._)("div",b,[G,M,(0,o._)("div",H,[(0,o._)("button",{class:"button",onClick:t[4]||(t[4]=(...s)=>a.restartGameEasy&&a.restartGameEasy(...s))},"Restart"),(0,o._)("div",D,[(0,o._)("p",x,"Mines: "+(0,u.zw)(s.mines),1),(0,o.Uk)(" "+(0,u.zw)(s.minutes)+":"+(0,u.zw)(s.seconds),1)])])]),(0,o._)("div",N,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:(0,u.C_)(["cell",a.cellClass(e,e.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(e)),["left"]),(0,i.iM)((s=>a.setFlag(e)),["right"])],onContextmenu:t[5]||(t[5]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[e.is_open&&!e.is_mine&&e.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(e.val)])},(0,u.zw)(e.val),3)):(0,o.kq)("",!0)],46,O)))),128))])))),128))])]),(0,o._)("div",E,[(0,o._)("button",{class:"back",onClick:t[6]||(t[6]=(...s)=>a.closeEasy&&a.closeEasy(...s))},"Back")])],2),[[i.F8,s.showEasyGame]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",z,[(0,o._)("div",R,[T,F,(0,o._)("div",q,[(0,o._)("button",{class:"button",onClick:t[7]||(t[7]=(...s)=>a.restartGameNormal&&a.restartGameNormal(...s))},"Restart"),(0,o._)("div",A,[(0,o._)("p",Y,"Mines: "+(0,u.zw)(s.mines),1),(0,o.Uk)(" "+(0,u.zw)(s.minutes)+":"+(0,u.zw)(s.seconds),1)])])]),(0,o._)("div",j,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:(0,u.C_)(["cell",a.cellClass(e,e.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(e)),["left"]),(0,i.iM)((s=>a.setFlag(e)),["right"])],onContextmenu:t[8]||(t[8]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[e.is_open&&!e.is_mine&&e.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(e.val)])},(0,u.zw)(e.val),3)):(0,o.kq)("",!0)],46,B)))),128))])))),128))])]),(0,o._)("div",I,[(0,o._)("button",{class:"back",onClick:t[9]||(t[9]=(...s)=>a.closeNormal&&a.closeNormal(...s))},"Back")])],2),[[i.F8,s.showNormalGame]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",K,[(0,o._)("div",P,[U,W,(0,o._)("div",Z,[(0,o._)("button",{class:"button",onClick:t[10]||(t[10]=(...s)=>a.restartGameHard&&a.restartGameHard(...s))},"Restart"),(0,o._)("div",L,[(0,o._)("p",S,"Mines: "+(0,u.zw)(s.mines),1),(0,o.Uk)(" "+(0,u.zw)(s.minutes)+":"+(0,u.zw)(s.seconds),1)])])]),(0,o._)("div",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:(0,u.C_)(["cell",a.cellClass(e,e.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(e)),["left"]),(0,i.iM)((s=>a.setFlag(e)),["right"])],onContextmenu:t[11]||(t[11]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[e.is_open&&!e.is_mine&&e.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(e.val)])},(0,u.zw)(e.val),3)):(0,o.kq)("",!0)],46,Q)))),128))])))),128))])]),(0,o._)("div",$,[(0,o._)("button",{class:"back",onClick:t[12]||(t[12]=(...s)=>a.closeHard&&a.closeHard(...s))},"Back")])],2),[[i.F8,s.showHardGame]]),(0,o.wy)((0,o._)("div",{class:(0,u.C_)(["game",s.state])},[(0,o._)("div",J,[(0,o._)("div",X,[ss,(0,o._)("div",ts,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=t=>s.options.mines=t)},null,512),[[i.nr,s.options.mines]])]),es,(0,o._)("div",is,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=t=>s.options.width=t)},null,512),[[i.nr,s.options.width]])]),os,(0,o._)("div",ns,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=t=>s.options.height=t)},null,512),[[i.nr,s.options.height]])]),(0,o._)("p",ls,"Mines: "+(0,u.zw)(s.mines),1),(0,o._)("div",as,[(0,o._)("button",{class:"apply",onClick:t[16]||(t[16]=(...s)=>a.applyOptions&&a.applyOptions(...s))},"Apply"),(0,o._)("button",{class:"button",onClick:t[17]||(t[17]=(...t)=>s.restartGame&&s.restartGame(...t))},"Restart")])]),(0,o._)("div",rs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.map,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:(0,u.C_)(["cell",a.cellClass(e,e.count)]),onMousedown:[(0,i.iM)((s=>a.clickCell(e)),["left"]),(0,i.iM)((s=>a.setFlag(e)),["right"]),(0,i.iM)((s=>a.setQuastion(e)),["middle"])],onContextmenu:t[18]||(t[18]=(0,i.iM)((()=>{}),["prevent"])),style:(0,u.j5)({width:100/s.width+"%"})},[e.is_open&&!e.is_mine&&e.val?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,u.C_)(["cellCenter",a.getNumberClass(e.val)])},(0,u.zw)(e.val),3)):(0,o.kq)("",!0)],46,hs)))),128))])))),128))])]),(0,o._)("div",cs,[(0,o._)("button",{class:"back",onClick:t[19]||(t[19]=(...s)=>a.closeCustom&&a.closeCustom(...s))},"Back")])],2),[[i.F8,s.showCustomGame]])]),(0,o.Wm)(h)],64)}e(2087),e(7658);class ms{constructor(s,t){this.x=s,this.y=t,this.val=0,this.is_mine=!1,this.is_open=!1,this.flag=!1}}var ds={data:function(){return{mines:10,width:0,height:0,map:[],options:{width:0,height:0,mines:10},state:"init",cells_opened:0,flag_count:0,flags:0,diff:"",showChooseCom:!0,showPlayEasy:!1,showPlayNormal:!1,showPlayHard:!1,showPlayCustom:!1,showEasyGame:!1,showNormalGame:!1,showHardGame:!1,showCustomGame:!1,intervalId:null,minutes:0,seconds:0,timerRunning:!1,timer:null}},computed:{cells_closed(){return this.width*this.height-this.cells_opened}},created(){this.applyOptions()},methods:{updateParentData(s){this.showChooseCom=s},closeEasy(){this.showEasyGame=!1,this.showChooseCom=!0},closeCustom(){this.showCustomGame=!1,this.showChooseCom=!0},closeHard(){this.showHardGame=!1,this.showChooseCom=!0},closeNormal(){this.showNormalGame=!1,this.showChooseCom=!0},openComplexity(){this.showChooseCom=!0,this.showMain=!1},openEasyGame(){this.flags=3,this.width=8,this.height=8,this.mines=3,this.minutes=10,this.seconds=0,this.resetGame(),this.showEasyGame=!0,this.showChooseCom=!1},openNormalGame(){this.width=16,this.height=16,this.mines=40,this.minutes=40,this.seconds=0,this.resetGame(),this.showNormalGame=!0,this.showChooseCom=!1},openHardGame(){this.width=32,this.height=16,this.mines=60,this.minutes=100,this.seconds=0,this.resetGame(),this.showHardGame=!0,this.showChooseCom=!1},openCustomGame(){this.resetGame(),this.showCustomGame=!0,this.showChooseCom=!1},goToBack(){this.showMain=!0,this.showChooseCom=!1},applyOptions(){for(let s in this.options)this[s]=this.options[s];this.resetGame()},resetGame(){this.flag_count=0,this.cells_opened=0,this.state="init",this.clearSquare()},clearSquare(){this.map=[];for(let s=0;s<this.height;s++){this.map.push([]);for(let t=0;t<this.width;t++)this.map[s].push(new ms(t,s))}},restartGameEasy(){this.state="init",this.flags=3,this.width=8,this.height=8,this.mines=3,this.minutes=10,this.seconds=0,this.resetGame(),this.startTimer()},restartGameNormal(){this.width=16,this.height=16,this.mines=40,this.minutes=40,this.seconds=0,this.resetGame(),this.showNormalGame=!0,this.showChooseCom=!1,this.resetGame(),this.startTimer()},restartGameHard(){this.width=32,this.height=16,this.mines=60,this.minutes=100,this.seconds=0,this.resetGame(),this.showHardGame=!0,this.showChooseCom=!1,this.resetGame(),this.startTimer()},pushMines(s){const t=this.width*this.height,e=s.y*this.width+s.x;for(let i=0;i<this.mines;++i)i!==e&&(this.cellLine(i).is_mine=!0);for(let i=0;i<t-1;++i)if(i!==e){const s=i<e;let o=i+Math.floor(Math.random()*(t-i)+(s?-1:0));s&&o>=e&&o++;const n=this.cellLine(i),l=this.cellLine(o),a=n.is_mine;n.is_mine=l.is_mine,l.is_mine=a}},cellLine(s){return this.cell(s%this.width,Math.floor(s/this.width))},cell(s,t){return s>=0&&t>=0&&s<this.width&&t<this.height?this.map[t][s]:null},lostGame(){this.state="lost",this.openAllCells(),this.stopTimer()},saveResult(){const s={score:this.seconds};this.$store.dispatch("saveResult",s)},winGame(){this.state="win",this.openAllCells(),this.stopTimer(),this.saveResult()},openAllCells(){for(let s=0;s<this.map.length;++s)for(let t=0;t<this.map[s].length;++t){let e=this.cell(t,s);this.setCellOpen(e),e.is_mine||(e.val=this.countMinesAround(e))}},countMinesAround(s){return this.countCellAround(s,(s=>s.is_mine))},countCellAround(s,t){let e=0;return this.searhAround(s,(s=>e+=t(s)?1:0)),e},searhAround(s,t){let e;for(let i=-1;i<2;++i)for(let o=-1;o<2;++o)(i||o)&&(e=this.cell(s.x+i,s.y+o))&&t(e)},clickCell(s){if(this.saveResult(),this.init(s),"play"===this.state&&!s.is_open)if(s.is_mine)this.lostGame();else try{this.openCell(s),parseInt(this.cells_closed)===parseInt(this.mines)&&this.winGame()}catch(t){this.lostGame()}},setFlag(s){this.init(s),"play"===this.state&&(s.is_open||this.setCellFlag(s,!s.flag))},setCellFlag(s,t){t!==s.flag&&(s.flag=t,this.flag_count+=t?1:-1,this.mines+=t?-1:1)},setQuastion(s,t){s.quasiton=t},openCell(s){if(s&&!s.is_open){if(this.setCellOpen(s),s.is_mine)throw"Boom";0===s.val&&this.searhAround(s,(s=>this.openCell(s)))}},getNumberClass(s){return{blue:1===s,green:2===s,red:3===s,darkBlue:4===s,brown:5===s,turquoise:6===s,black:7===s,white:8===s}},setCellOpen(s){s.is_open||(s.is_open=!0,this.cells_opened++,this.setCellFlag(s,!1),s.is_mine||(s.val=this.countMinesAround(s)))},init(s){"init"===this.state&&(this.state="play",this.startTimer(),this.pushMines(s))},cellClass(s){return s.is_open?[s.is_mine?"mine":"digit-"+s.val]:["closed",s.flag?"flag":"quasiton"]},startTimer(){"play"===this.state&&(this.timerRunning=!0,this.intervalId=setInterval((()=>{this.seconds>0?this.seconds--:this.minutes>0?(this.minutes--,this.seconds=59):(clearInterval(this.intervalId),this.timerRunning=!1)}),1e3))},stopTimer(){clearInterval(this.intervalId),this.timerRunning=!1}}};const ps=(0,l.Z)(ds,[["render",us]]);var _s=ps;const ws={class:"menu"},vs={class:"container"},Cs={class:"menu__choose"},gs={class:"menu__buttons"};function fs(s,t,e,i,n,l){const a=(0,o.up)("router-link"),r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",ws,[(0,o._)("div",vs,[(0,o._)("div",Cs,[(0,o._)("div",gs,[(0,o.Wm)(a,{to:"/game",class:"menu__play"},{default:(0,o.w5)((()=>[(0,o.Uk)("Options game")])),_:1}),(0,o.Wm)(a,{to:"/leaderboard",class:"menu__leader_board"},{default:(0,o.w5)((()=>[(0,o.Uk)("Leader board")])),_:1})])])])]),(0,o.Wm)(r)],64)}var ys={methods:{}};const ks=(0,l.Z)(ys,[["render",fs]]);var bs=ks,Gs=(0,c.p7)({history:(0,c.r5)(),routes:[{path:"/leaderBoard",component:w},{path:"/game",component:_s},{path:"/",component:bs}]}),Ms=e(65);const Hs=(0,Ms.MT)({state(){return{}}});var Ds=Hs;const xs={state:{results:[]},mutations:{saveResult(s,t){s.results.push(t)}},actions:{saveResult({commit:s},t){s("saveResult",t)}}};var Ns=new Ms.ZP.Store({modules:{score:xs}});const Os=(0,i.ri)(h);Os.use(Gs),Os.use(Ds),Os.mount("#app");new Ms.ZP.Store({modules:{results:Ns}})}},t={};function e(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return s[i].call(n.exports,n,n.exports,e),n.exports}e.m=s,function(){var s=[];e.O=function(t,i,o,n){if(!i){var l=1/0;for(c=0;c<s.length;c++){i=s[c][0],o=s[c][1],n=s[c][2];for(var a=!0,r=0;r<i.length;r++)(!1&n||l>=n)&&Object.keys(e.O).every((function(s){return e.O[s](i[r])}))?i.splice(r--,1):(a=!1,n<l&&(l=n));if(a){s.splice(c--,1);var h=o();void 0!==h&&(t=h)}}return t}n=n||0;for(var c=s.length;c>0&&s[c-1][2]>n;c--)s[c]=s[c-1];s[c]=[i,o,n]}}(),function(){e.n=function(s){var t=s&&s.__esModule?function(){return s["default"]}:function(){return s};return e.d(t,{a:t}),t}}(),function(){e.d=function(s,t){for(var i in t)e.o(t,i)&&!e.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:t[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"===typeof window)return window}}()}(),function(){e.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)}}(),function(){var s={143:0};e.O.j=function(t){return 0===s[t]};var t=function(t,i){var o,n,l=i[0],a=i[1],r=i[2],h=0;if(l.some((function(t){return 0!==s[t]}))){for(o in a)e.o(a,o)&&(e.m[o]=a[o]);if(r)var c=r(e)}for(t&&t(i);h<l.length;h++)n=l[h],e.o(s,n)&&s[n]&&s[n][0](),s[n]=0;return e.O(c)},i=self["webpackChunkminer"]=self["webpackChunkminer"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(6892)}));i=e.O(i)})();
//# sourceMappingURL=app.c8a90c52.js.map